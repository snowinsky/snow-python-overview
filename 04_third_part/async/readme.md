# 异步编程

> 同步 就是串行处理，一次做一件事，一件事没做完，一直等待
> 
> 异步 就是一件事开始了之后，不等处理完，就处理下一件事情

- 阻塞：就是线程暂停
- 非阻塞: 就是线程不暂停

并行和并发
- 并行：两件事一起做，真的是两个同时干着两件事
- 并发：两件事一起发送出去，但还是一个人断断续续切换着做，看来两件事都有进展

进程，线程，协程
- 进程 就是cpu的一个独立的核心，有独立的内存，进程间通信比较困难
- 线程 就是cpu的一个核心可以创建多个任务，内存是共享的
- 协程 就是线程内的又可以细分多个子任务

两个关键字async，await
- async: 修饰function的声明部分
  - 将这个方法声明为异步方法
  - 直接调用这个方法不执行方法内容
- await: 修饰function的执行部分，表示协程在这个地方可以中断，表示等待它后面的函数执行完了再执行，因此这个关键字只能在async修饰的函数中使用。await 后面必须接一个 Coroutine 对象或是 awaitable 类型的对象.
- asyncio.run() 运行async方法的内容，直到方法执行完毕
  - 一个线程下只能同时有一个协程loop，这个就是创建协程loop的
  - 不能嵌套，嵌套就建了多个loop了
  - 不能在async方法中写，报错，不知道为啥，估计是怕嵌套
  - async方法中如果想调用另一个async方法，就得用await

协程并发
- 每一个async修饰的函数都是一个任务模板，可以创建一个或者多个协程任务
- 用asyncio.run一个协程任务，不会让这个任务异步执行，因为没有进行线程切换
- 


